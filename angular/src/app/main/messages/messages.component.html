<div id="content" class="section-padding" style="margin-top: 1.5rem;">
    <div class="container-fluid">
        <div id="frame">
            <div id="sidepanel">
                <div id="profile">
                    <div class="wrap d-flex">
                        <!-- <img id="profile-img" src="http://emilcarlsson.se/assets/mikeross.png" class="online" alt="" /> -->
                        <span id="reciever-badge" class="badge badge-message-styling">
                            {{generateAvater(appSession.user.name,'reciever-badge')}}
                        </span>
                        <p>{{appSession.user.name}}</p>
                        <i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
                        <div id="status-options">
                            <ul>
                                <li id="status-online" class="active"><span class="status-circle"></span>
                                    <p>Online</p>
                                </li>
                                <li id="status-away"><span class="status-circle"></span>
                                    <p>Away</p>
                                </li>
                                <li id="status-busy"><span class="status-circle"></span>
                                    <p>Busy</p>
                                </li>
                                <li id="status-offline"><span class="status-circle"></span>
                                    <p>Offline</p>
                                </li>
                            </ul>
                        </div>
                        <div id="expanded">
                            <label for="twitter"><i class="fa fa-facebook fa-fw" aria-hidden="true"></i></label>
                            <input name="twitter" type="text" value="mikeross" />
                            <label for="twitter"><i class="fa fa-twitter fa-fw" aria-hidden="true"></i></label>
                            <input name="twitter" type="text" value="ross81" />
                            <label for="twitter"><i class="fa fa-instagram fa-fw" aria-hidden="true"></i></label>
                            <input name="twitter" type="text" value="mike.ross" />
                        </div>
                    </div>
                </div>
                <div id="search">
                    <label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
                    <input type="text" placeholder="Search contacts..." />
                </div>
                <div id="contacts">
                    <ul>
                        <li class="contact" *ngFor="let chat of userChatmessages;let i=index"
                            [ngClass]="highlightedRows[0] === chat.senderId? 'active': '' "
                            (click)="onSelectChat(chat.senderId,chat.senderName)">
                            <div class="wrap">
                                <span class="contact-status online"></span>
                                <span id="send-message-badge{{i}}" class="badge badge-message-styling"
                                    style="width: 40px;height: 40px">
                                    {{generateAvaterForChat(chat.senderName,i,'send-message-badge')}}
                                </span>
                                <div class="meta" style="margin-left: 50px;">
                                    <p class="name">{{chat.senderName}}</p>
                                    <p class="preview">{{chat.lastMessage}}</p>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="bottom-bar">
                    <button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span>Add
                            contact</span></button>
                    <button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i>
                        <span>Settings</span></button>
                </div>
            </div>
            <div class="content">
                <div class="contact-profile d-flex">
                    <!-- <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" /> -->
                    <span id="reciever-title-badge" class="badge badge-message-styling">
                        {{generateAvater(receiverName,'reciever-title-badge')}}
                    </span>
                    <!-- <p>Harvey Specter</p> -->
                    <p>{{receiverName}}</p>
                    <div class="social-media">
                        <i class="fa fa-facebook" aria-hidden="true"></i>
                        <i class="fa fa-twitter" aria-hidden="true"></i>
                        <i class="fa fa-instagram" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="messages" *ngIf="userMessagesCount > 0">
                    <ul *ngFor="let message of messages">
                        <li class="replies" *ngIf="message.senderId == appSession.userId">
                            <!-- <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" /> -->
                            <p>{{message.message}}</p>
                        </li>
                        <li class="sent" *ngIf="message.senderId != appSession.userId">
                            <!-- <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" /> -->
                            <p>{{message.message}}</p>
                        </li>
                    </ul>
                    <ul *ngIf="false">
                        <li class="sent">
                            <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                            <p>How the hell am I supposed to get a jury to believe you when I am not even sure that I
                                do?!</p>
                        </li>
                        <li class="replies">
                            <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                            <p>When you're backed against the wall, break the god damn thing down.</p>
                        </li>
                        <li class="replies">
                            <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                            <p>Excuses don't win championships.</p>
                        </li>
                        <li class="sent">
                            <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                            <p>Oh yeah, did Michael Jordan tell you that?</p>
                        </li>
                        <li class="replies">
                            <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                            <p>No, I told him that.</p>
                        </li>
                        <li class="replies">
                            <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                            <p>What are your choices when someone puts a gun to your head?</p>
                        </li>
                        <li class="sent">
                            <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                            <p>What are you talking about? You do what they say or they shoot you.</p>
                        </li>
                        <li class="replies">
                            <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                            <p>Wrong. You take the gun, or you pull out a bigger one. Or, you call their bluff. Or, you
                                do any one of a hundred and forty six other things.</p>
                        </li>
                    </ul>
                </div>
                <div *ngIf="userMessagesCount == 0">
                    <div class="chat-icon-div">
                        <i class="far fa-comment-dots chat-icon"></i>
                    </div>
                    <div class="no-chat">
                        No chat yet
                    </div>
                </div>
                <div *ngIf="!receiverName">
                    <div class="chat-icon-div">
                        <i class="far fa-comment-dots chat-icon"></i>
                    </div>
                    <div class="no-chat">
                        Select chat
                    </div>
                </div>
                <div class="message-input">
                    <div class="wrap">
                        <input type="text" placeholder="Write your message..."
                            [(ngModel)]="ChatMessageInputDto.message" />
                        <!-- <i class="fa fa-paperclip attachment" aria-hidden="true"></i> -->
                        <button class="submit" (click)="sendMessage()" [disabled]="isValid()"><i class="fa fa-paper-plane"
                                aria-hidden="true"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <div style="">h</div>
<div *ngFor="let message of messages">
    <b>{{ message.user }}</b>: {{ message.text }}
</div>



<label for="userName">Username</label>
<input type="text" id="userName" [(ngModel)]="userName">

<label for="message">Message</label>
<input type="text" id="message" [(ngModel)]="messageText"> -->

<!-- <button (click)="sendMessage(userName, messageText)">Send</button> -->