<div class="main-container section-padding" style="margin-top:20px">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-2 col-12 page-sidebar pr-0">
                <aside>
                    <div class="widget categories">
                        <div class="row resetSection">
                            <div class="col-8">
                                <!-- <h4 class="" style="
                                font-size: 20px;">All Categories</h4> -->
                            </div>
                            <div class="col-4" style="color: black;cursor: pointer;text-align:end;    padding: 1px 10px 0px 0px;
                            " (click)="resetLeftFilters()">
                                Reset<i class="far fa-trash-alt" style="padding-left:5px"></i></div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Spot</label><br>
                            <span class="" *ngFor="let bool of booleanEnum">
                                <input type="radio" [value]="bool" name="isSpot" [(ngModel)]="isSpot"
                                    (change)="onSelectFilter($event)">
                                <label class="control-label pl-1 pr-2 fontColor-label">{{bool.name}}</label>
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Damage</label><br>
                            <span class="" *ngFor="let bool of booleanEnum">
                                <input type="radio" [value]="bool" name="isDamaged" (change)="onSelectFilter($event)"
                                    [(ngModel)]="isDamage">
                                <label class="control-label pl-1 pr-2 fontColor-label">{{bool.name}}</label>
                            </span>

                            <span *ngIf="isSpot && isSpot['value'] == 1">
                                <input class="form-control input-md" name="Title" placeholder="0%" type="text">
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div style="padding: 0px 10px;">
                            <label class="control-label fontColor">Rom</label>
                            <div class="row" *ngFor="let rom of ram;let i =index">
                                <div class="col-12">
                                    <input type="radio" [value]="rom" name="isRam" (change)="onSelectFilter($event)"
                                        [(ngModel)]="selectedRam">
                                    <label class="control-label p-2 fontColor-label">{{rom.name}}</label>
                                </div>
                            </div>
                            <div (click)="showMoreBrands('ram')" *ngIf="!isShowRam" class="viewMore">View more</div>
                            <div (click)="showLessBrands('ram')" *ngIf="isShowRam" class="viewMore">View less</div>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div style="padding: 0px 10px;">
                            <label class="control-label fontColor">Storage</label>
                            <div class="row" *ngFor="let store of storage">
                                <div class="col-12">
                                    <input type="radio" [value]="store" name="isStorage"
                                        (change)="onSelectFilter($event)" [(ngModel)]="selectedStorage">
                                    <label class="control-label p-2 fontColor-label">{{store.name}}</label>
                                </div>
                            </div>
                            <div (click)="showMoreBrands('storage')" *ngIf="!isShowstorage" class="viewMore">View more
                            </div>
                            <div (click)="showLessBrands('storage')" *ngIf="isShowstorage" class="viewMore">View less
                            </div>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Item Condition</label><br>
                            <span class="" *ngFor="let cond of condition">
                                <input type="radio" [value]="cond" name="isUsed" (change)="onSelectFilter($event)"
                                    [(ngModel)]="isNew">
                                <label class="control-label pl-1 pr-2 fontColor-label">{{cond.name}}</label>
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">PTA status</label><br>
                            <span class="" *ngFor="let bool of booleanEnum">
                                <input type="radio" [value]="bool" name="isPTAapproved"
                                    (change)="onSelectFilter($event)" [(ngModel)]="isPTAapproved">
                                <label class="control-label pr-2 pl-1 fontColor-label">{{bool.name}}</label>
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Price</label><br>
                            <p-slider [(ngModel)]="rangeValues" [range]="true"
                                [style]="{'width':'90%','margin':'10px auto'}" [min]="0" [max]="400000"
                                name="rangeSlider" (onChange)="onSelectFilter($event)">
                            </p-slider>
                            <div class="pl-2">
                                <label style="margin-top: 5px;" class="fontColor-label">
                                    {{rangeValues[0] | number}} - {{rangeValues[1] | number}}
                                </label>
                            </div>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Negotiable in price</label><br>
                            <span class="" *ngFor="let bool of booleanEnum">
                                <input type="radio" [value]="bool" name="isNegotiable" (change)="onSelectFilter($event)"
                                    [(ngModel)]="isNegotiable">
                                <label class="control-label pr-2 pl-1 fontColor-label ">{{bool.name}}</label>
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                        <div class="" style="padding: 0px 10px;">
                            <label class="control-label fontColor">Change with other phone</label><br>
                            <span class="" *ngFor="let bool of booleanEnum">
                                <input type="radio" [value]="bool" name="isExchangeable"
                                    (change)="onSelectFilter($event)" [(ngModel)]="isExchangeable">
                                <label class="control-label pl-1 pr-2 fontColor-label">{{bool.name}}</label>
                            </span>
                            <div>
                                <hr>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
            <div class="col-lg-10 col-12 page-content">

                <div class="product-filter section-filter-bg" style="margin-bottom:0px"
                    *ngIf="productBrandsLength && productBrandsLength > 0 && false">
                    <div class="row ">
                        <div class="flex-center search-by-filter" style="margin:auto;padding-left: 120px;">
                            Search By Filter
                        </div>
                        <div class="flex-center" style="float:right;color: black;cursor: pointer;"
                            (click)="resetRightFilters()">
                            Reset Filters <i class="far fa-trash-alt" style="padding-left: 7px;
                            padding-top: 2px;margin-right: 10px;"></i></div>
                    </div>
                    <div class="row flex-center">
                        <div class="col-1 brand-box" (click)="onSelectBrand(products.id)"
                            *ngFor="let products of productBrands"
                            [ngClass]="highlightedRows[0] ===products.id? 'selected': '' ">
                            {{products.name}}
                        </div>
                    </div>
                </div>
                <div class="product-filter">
                    <div class="row" style="height: 30px;">
                        <div class="short-name col-4">
                            <span>Showing {{productsLength}} products</span>
                        </div>
                        <div class="short-name col-6">
                            <label class="control-label fontColor ml-2-mr-2">Sort by: </label>
                            <a class="ml-2-mr-2 sort-btn" (click)="onSelectFilter(null,5)">min price |</a>
                            <a class="ml-2-mr-2 sort-btn" (click)="onSelectFilter(null,4)">max price |</a>
                            <a class="ml-2-mr-2 sort-btn" (click)="onSelectFilter(null,1)">Name |</a>
                            <a class="ml-2-mr-2 sort-btn" (click)="onSelectFilter(null,3)">Oldest |</a>
                            <a class="ml-2-mr-2 sort-btn" (click)="onSelectFilter(null,2)">Recent</a>
                        </div>
                        <div class="col-2">
                            <ul class="nav nav-tabs mr-0">
                                <li class="nav-item">
                                    <a class="nav-link active" data-toggle="tab" href="#grid-view"><i
                                            class="lni-grid"></i></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-toggle="tab" href="#list-view"><i class="lni-list"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="adds-wrapper mt-2">
                        <div class="tab-content">
                            <div id="grid-view" class="tab-pane fade active show">
                                <div class="row flex-center mt-5" *ngIf="!isProgress">
                                    <p-progressSpinner></p-progressSpinner>
                                </div>
                                <div class="row" *ngIf="isProgress">
                                    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3" *ngFor="let product of products"
                                        style="margin-top: 20px;margin-bottom: 20px;">
                                        <div class="item">
                                            <div class="product-item" style="box-shadow: 0px 2px 7px 7px lightgrey;
                                            ">
                                                <div class="carousel-thumb">
                                                    <span *ngIf="!product.primaryProductImage">
                                                        <img class="img-fluid-box" src="assets/img/product/img1.jpg"
                                                            alt="">
                                                    </span>
                                                    <span *ngIf="product.primaryProductImage">
                                                        <img class="img-fluid-box" [src]="product.primaryProductImage"
                                                            alt="">
                                                    </span>
                                                    <div class="overlay">
                                                        <div>
                                                            <a class="btn btn-common"
                                                                [routerLink]="['/app/home/detail',product.id]">View
                                                                Details</a>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="product-content">
                                                    <h2 class="fs-20"> Rs.{{product.price | number}}
                                                    </h2>
                                                    <h3 class="product-title"><a
                                                            href="ads-details.html">{{product.productModelName}}</a>
                                                    </h3>
                                                    <span>{{product.productCompanyName}}</span>

                                                    <div class="card-text">
                                                        <div class="float-left">
                                                            <span class="count-review">
                                                                ({{product.views}} views)
                                                            </span>
                                                        </div>
                                                        <div class="float-right" *ngIf="product.city">
                                                            <a class="address" href="#"><i
                                                                    class="lni-map-marker"></i>{{product.city}}</a>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 date-end">
                                                        {{product.creationTime.fromNow()}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="list-view" class="tab-pane fade">
                                <div class="row">
                                    <div class="col-12" *ngFor="let product of products">
                                        <div class="featured-box">
                                            <figure>
                                                <a><img class="img-fluid-box-list" src="assets/img/featured/img-1.jpg"
                                                        alt=""></a>
                                            </figure>
                                            <div class="feature-content">
                                                <div class="product">
                                                    <a> {{product.productCompanyName}}</a>
                                                </div>
                                                <h4><a href="ads-details.html">{{product.productModelName}}</a></h4>
                                                <div class="meta-tag">
                                                    <span>
                                                        <a href="#"><i class="lni-user"></i>
                                                            {{product.userFullName}}</a>
                                                    </span>
                                                    <span>
                                                        <a href="#"><i class="fas fa-clock"></i>
                                                            {{product.creationTime.fromNow()}}
                                                        </a>
                                                    </span>
                                                </div>
                                                <div class="listing-bottom">
                                                    <h3 class="price float-left">
                                                        Rs. {{product.price | number}}
                                                    </h3>
                                                    <a [routerLink]="['/app/home/detail',product.id]"
                                                        class="btn btn-common float-right">View
                                                        Details</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="no-record-section" *ngIf="productsLength == 0 && isProgress">
                                <div class="no-record-found ">
                                    No product related to this search
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>